<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hostel Management System</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> <!--Roboto-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
 {% load static %}
  <link  rel="stylesheet" href ="{%static  'django_auth/signup.css' %}" >
  
</head>

<body>
     <nav class="navbar fixed-top row px-4" id="topnav">
          <div class="col-12 d-flex justify-content-center">
              <span class="d-none d-md-block " style="color:darkorange; font-family: 'Bree Serif', serif;" id="title"><img src="{% static 'officials/logo_small.png' %}" alt="Institute Logo" class="mr-3">NIT Andhra Pradesh - Hostel Management System</span>
              <span class="d-block d-md-none " style="color:darkorange; font-family: 'Bree Serif', serif;" id="title"><img src="{% static 'officials/logo_small.png' %}" alt="Institute Logo" class="mr-2">NIT AP - Hostels</span>
          </div>   
     </nav>


     <div class="container my-5 py-5">
          <div class="row justify-content-center">
               <div class="col-12">
                    <div class="card shadow w-100">
                         <div class="card-header bg-warning">
                              <h3 class="text-center font-weight-bold mt-2">{{ title }}</h3>
                         </div>
                         {% load crispy_forms_tags %}          
                         <form method="post" enctype="multipart/form-data">
                              <div class="card-body">
                                   {% csrf_token %}
                                   {{ form|as_crispy_errors }}
                                   <div class="row">
                                        <div class="col-12 col-md-4 text-capitalize">
                                             {{ form.name|as_crispy_field}}
                                             {{ form.regd_no|as_crispy_field}}
                                             {{ form.roll_no|as_crispy_field}}
                                             <div class="row">
                                                  <div class="col-6">
                                                       {{ form.year|as_crispy_field}}
                                                  </div>
                                                  <div class="col-6">
                                                       {{ form.gender|as_crispy_field}}
                                                  </div>
                                             </div>
                                             {{ form.branch|as_crispy_field}}
                                             {{ form.dob|as_crispy_field}}
                                             {{ form.pwd|as_crispy_field}}
                                             {{ form.photo|as_crispy_field}}
                                        </div>
                                        <div class="col-12 col-md-4 text-capitalize">
                                             {{ form.email_id|as_crispy_field}}
                                             {{ form.phone|as_crispy_field}}
                                             {{ form.parents_phone|as_crispy_field}}
                                             {{ form.emergency_phone|as_crispy_field}}
                                             {{ form.address|as_crispy_field}}
                                             <div class="row">
                                                  <div class="col-6">
                                                       {{ form.blood_group|as_crispy_field}}
                                                  </div>
                                                  <div class="col-6">
                                                       {{ form.community|as_crispy_field}}
                                                  </div>
                                             </div>
                                        </div>
                                        <div class="col-12 col-md-4">
                                             {{ form.is_hosteller|as_crispy_field}}
                                             <div class="row">
                                                  <div class="col-6">
                                                       {{ form.has_paid|as_crispy_field}}
                                                  </div>
                                                  <div class="col-6">
                                                       {{ form.amount_paid|as_crispy_field}}
                                                  </div>
                                             </div>
                                             {{ form.bank|as_crispy_field}}
                                             {{ form.challan_no|as_crispy_field}}
                                             {{ form.dop|as_crispy_field}}
                                             <div class="row">
                                                  <div class="col-6">
                                                       {{ form.application|as_crispy_field}}
                                                       {{ form.undertaking_form|as_crispy_field}}
                                                       {{ form.receipt|as_crispy_field}}
                                                  </div>
                                                  <div class="col-6">
                                                       {{ form.affidavit|as_crispy_field}}
                                                  </div>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                              <div class="card-footer">
                                   <div class="row justify-content-center">
                                        <button type="submit" class="btn btn-warning px-4 py-2">Register</button>
                                   </div>
                              </div>
                         </form>
                    </div>
               </div>
          </div>
     </div>

     <script>
          window.addEventListener('load', () => {
               document.getElementById('id_affidavit').disabled = true

               document.getElementById('id_is_hosteller').addEventListener('change', () => {
                    let is_hosteller = document.getElementById('id_is_hosteller').value

                    document.getElementById('id_dop').disabled = is_hosteller === "False"
                    document.getElementById('id_has_paid').disabled = is_hosteller === "False"
                    document.getElementById('id_amount_paid').disabled = is_hosteller === "False"
                    document.getElementById('id_bank').disabled = is_hosteller === "False"
                    document.getElementById('id_challan_no').disabled = is_hosteller === "False"
                    document.getElementById('id_application').disabled = is_hosteller === "False"
                    document.getElementById('id_undertaking_form').disabled = is_hosteller === "False"
                    document.getElementById('id_receipt').disabled = is_hosteller === "False"

                    document.getElementById('id_affidavit').disabled = is_hosteller !== "False"

               })
          })
     </script>
</body>
</html>